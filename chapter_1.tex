\chapter{%
序論}

% 章アブストラクト
本章では，本研究の背景と目的，そして構成について述べる．


\section{研究背景}
Industry4.0 はドイツが自国の経済向上のために発表したものだが，それは世界に波及しIT技術を駆使して
製造現場のプロセスの最適化を図ろうとする動きが世界的に活発になってきている [1]．
また，日本は，少子化による労働人口の減少や人材の流動化による技術の継承が出来ないことから
製造現場での人手不足が深刻化しているだけでなく労働生産性もアメリカの ６５\%程度と低いため，
今後，製造現場へのグリッパーを持つ産業用ロボットアームの導入がさらに加速すると考えられる．\\
　導入により製造現場の人手不足解消や効率化を図るためには，ロボットアームを適切に制御し長期的に運用しなければならない．
そのためには，目的の動作を指示するティーチング作業や工場内での配置の検討などの事前準備を十分に行う必要がある．
しかし現状，配置の検討においては実際の製造現場にロボットを一定数設置する必要があり，ティーチング作業においても実際に使用して行うことが多いため，
運用までの準備に時間とコストがかかっている．
また，ロボットをティーチングペンダントを使用して操作するオンラインティーチングと人の手で直接操作するダイレクトティーチングは
ロボットアームがどのように動作するのかを目視で直接確認することができる半面，人とロボットが接触することによる労働災害も起こりかねない．
そこで，シミュレーション上で配置検討を行うことや実際のロボットを操作するような高精度なオフラインティーチングを行うことが望まれる．\\
　デジタルツインは現実のロボットとその環境からデータを収集し，仮想空間上にそれと双子のようなロボットのデジタルモデルと環境を再現するシミュレーション技術の１つである．
従来のシミュレーションはロボットの作業負荷や電力変化などの外部要因だけをパラメータに設定していたが，デジタルツインでは実際に稼働するロボットの各種センサ値などの内部要因も設定する．
この技術は，IoT(Internet of Things)の概念と混同してはならない．
デジタルツインは，IoTのようにセンサーを通じて物理的なロボットと環境からデータを収集するだけでなく仮想空間上のロボットのデジタルモデルと環境にデータを注入する[2]．
これによって，実際のロボットの姿勢やグリッパーの開閉動作を再現したデジタルツインシステムを構築することを目指す．


\section{既存研究}
デジタルツインシステムの構築には，仮想空間としてのシミュレータと物理空間と仮想空間の間の通信方法の選定を行う必要がある．\\
　物理モデルから仮想モデルを作るデジタルツインに対し仮想空間内で学習したモデルを現実空間で利用するsim2realという強化学習の分野では，
物理シミュレータとしてPyBullet，MuJoCo，Unity3D，Gazeboが広く利用されている[3]．\\
　人とロボットの共同アセンブリ作業のためのデジタルツインシステムを構築したBilbergらはシミュレータにTecnomatrix Process Simulateを採用した[4]．
また，Schroederらは通信方法にPub/Sub型通信のMQTTを，Kustaらは同じくPub/Sub型通信のFIWAREを採用した[5][6]．
しかし，これらは使用例が非常に少なくプログラムコードの再利用などのエコシステムが存在しないためシステムを１から全て作り上げなければならないデメリットがある．\\
　GallalaらはLinux上で動作するミドルウェアであるROS(Robot Operating System)とUnity3Dを組み合わせた人とロボットの共同作業のためのデジタルツインシステムを提案した[2]．
ROSはロボット開発用のソフトウェアプラットフォームとして世界中で利用され，インターネット上に使用例やエコシステムが存在する．
また，自社ロボットをROSで制御するためのパッケージを無料で提供しているロボット開発企業も多く，カスタマイズ性が高いLinux上で動作するROSはデジタルツインのシステム開発に適している．
しかしながら，GallalaらはUnity3Dは対応するLinuxのディストリビューションが少なく開発に制限がかかる問題がある．\\
　Liangらは通信にROSを採用し，シミュレータにROSに統合されているGazeboを採用したが，物理的なロボットのKUKA KR120はWindows OS上で制御していた[7]．
Windows OSはLinux系OSに比べてカスタマイズ性などの自由度が低くデジタルツインシステムの構築に支障が出る可能性が高い．\\
　そして，Wangらはリアルタイムで共同作業するための没入型VRデジタルツインシステムをROSとGazeboを使って開発した[8]．
彼らは物理的なロボットとして６自由度のKUKAを使用し，Gazeboシミュレータ上とヘッドデバイスのVR上にデジタルツインを再現したが，
デジタルツインモデルと実際のロボットの関節状態がどの程度ギャップがあるかの検証がないという問題がある．

\begin{figure}[htbt]
	\centering
	 \includegraphics[height=55mm]{wang.eps}
	 \caption{Wangらの没入型VRデジタルツインシステム}
	 \label{fig:f2}
\end{figure}

\section{研究目的}
本研究では既製品のロボットアームのエンドエフェクタ部分に本研究室でLiang Duらが開発した切り紙グリッパーの改良版を取り付け，
ROSを用いてロボットアームの手先位置の制御と切り紙グリッパーの開閉動作の実現を試みる[9]．
さらに，その切り紙グリッパーを持つロボットアームのデジタルモデルをシミュレータであるGazebo内で構築し，その中においてもロボットアームの手先位置の制御と切り紙グリッパーの開閉時の指先位置制御が行える
デジタルツインシステムを開発することを目標とする．\\
　本研究の貢献は２つある．１つ目は，ROSで動作する既製品のロボットアームのデジタルモデルに，同様にROSで動作するサードパーティ製のエンドエフェクタのデジタルモデルを取り付ける場合のフレームワークを，
ROSにおけるロボット構造を記述するためのXMLフォーマットであるURDF(Unified Robot Description Format)とROSのコントローラパッケージであるros\_ontrolの２点から提案し，
また，自作したグリッパーの開閉動作をGazebo内で実現する方法も示すことである．\\
　２つ目は，ロボットアームの手先位置と切り紙グリッパーの開閉時の指先位置のデジタルツインシステムの検証方法を示すことである．\\
　これらの貢献により，今後グリッパーを持つロボットアームの研究におけるROSの有効性を証明する．


\section{論文構成}
本論文の構成は次のようになる．第2章では，デジタルツインシステムの物理モデルとデジタルモデルについて明記し，ROSを用いたシステムの構成とデジタルツインを構築する詳細な方法を述べる．
第3章では，ROSデジタルツインシステムの検証方法の説明と検証実験を説明し最後に結果と考察について述べる．
第4章では，本研究のまとめと今後の課題について述べる．
